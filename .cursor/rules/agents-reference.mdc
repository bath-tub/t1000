---
description: Ensure agents read and update agents.md
globs: **/*
alwaysApply: false
---

# Agents Guide Requirement

- Always read `agents.md` before starting work.
- If you get stuck or discover important context, update `agents.md` with:
  - what failed,
  - where to find artifacts/logs,
  - the resolution or workaround.
- If you are working in a specific domain, also update the matching domain rule with any new guidance.
- Keep entries concise and actionable for future agents.

## Diagnosing Failed Runs
- When investigating a failed `j2pr run`, check session captures first:
  `j2pr session <TICKET> --events` for the structured timeline, then
  `j2pr session <TICKET> --output` for the full raw output.
- See the "Diagnosis Playbook" in `agents.md` for a step-by-step guide.
- Cross-reference with run artifacts at `~/.j2pr/runs/<ticket>/<run_id>/`.
